<chapter id="features.http-auth">
	<title>HTTP authentication with PHP</title>
	<simpara>
	(ϣ. HTTP authentication Web Client; ID Password΀ ݀΃, 
	ͅ ID Passwordΰ WebΨ ͅ ̓, Ώ ͽ . 
	ѽ ̈́ Ω RFC1945 Authentication ΏΏ σ̈́ͽ ΃. 
	http://pec.etri.re.kr/!qkim/HTTP/ ͽ ξ Ψ  σϰ.)
	</simpara>
	<simpara>
	PHP΀ Ǩ HTTP ϶ Apache ΁ΰ Ǩ  . 
	CGI ξݺ  ͽ Ǩ  .
	Apache ΁ PHP Ũζ <function>Header</function> ΀ ǨΩ 
	Client ν; Usernamë́ Password΀ ݀΃ ΀ ΰ  
	"϶ ͵"("Authentication Required") Ω΀ ΄Ǻ  . 
	 Ǩ̓ Usernamë́ Password΀ ݀Ω, 
	user name, password, authentication type ̓ ̓ 
	$PHP_AUTH_USER, $PHP_AUTH_PW, $PHP_AUTH_TYPE 3̓ ΄΀ ̓̈́ 
	 URL(PHP Ũζ΀ )  Ώζ. 
	 authentication type "Basic" .
	ѽ Ǩξ <function>Header</function> ΀ ǥ ΄.</simpara>
	<para>
	client authentication Ǩ ͅ ݀ ̓ Ϗ݀ ̓  . : 
   <example>
			<title>HTTP Authentication example</title>
			<programlisting role="php">
&lt;?php
  if(!isset($PHP_AUTH_USER)) {
    Header(&quot;WWW-Authenticate: Basic realm=\&quot;My Realm\&quot;&quot;);
    Header(&quot;HTTP/1.0 401 Unauthorized&quot;);
    echo &quot;Text to send if user hits Cancel button\n&quot;;
    exit;
  } else {
    echo &quot;Hello $PHP_AUTH_USER.&lt;P&gt;&quot;;
    echo &quot;You entered $PHP_AUTH_PW as your password.&lt;P&gt;&quot;;
  }
?>
    </programlisting>
		</example>
	</para>
	<para>
	Ώ $PHP_AUTH_USER  $PHP_AUTH_PW΀  Ϗ݀ , 
	Ǩ ΄  usernamë́ password΀ Ǩͽ΀  ;. 
	 Database Queryͱ  dbm  σ΄  ΃ξΰ ̓ ;.</para>
	<para>
	Internet Explorer browser ξͅΰ  Header ̓ ߧ ͼΰ. 
	<emphasis>WWW-Authenticate</emphasis>΀ 
	<errorcode>HTTP/1.0 401</errorcode>΄ ή ΄ǥ ;  ̓ ζΰ ΄.
	</para>
	<simpara>
	μ΃ξ Ϗ ݧ HTTP ̈́ ϶ Ǩ  
	ͽϰ Ώ Ωϼ϶ Ǩ ; Ψΰ PHP_AUTH ΄ ѧ . 
	; externally-authenticated user΀ ͽ  $REMOTE_USER ΄΀ Ǩ  .
	</simpara>
	<simpara>
	  ϶   ϶  ̓ ̓ ξ ϰ , 
	϶  URL control   ͵̓̓, 
	϶  URL ΀ τ΄ ;    . 
	</simpara>
	<simpara>
	Netscape Internet Explorer ΁ 401 χ΀ ξ ΃;Ω 
	local browser window authentication cache΀ clear. 
	϶, ; "log out"̓  ;ΰ, Ǩΰ ͽ usernamë́ ΀  ݀; . 
	Ώ ; ܵ login "time out" "log-out"ξ  Ǩ 
	</simpara>
	<example>
		<title>HTTP Authentication example forcing a new name/password</title>
		<programlisting role="php">
&lt;?php
  function  authenticate()  {
      Header( &quot;WWW-authenticate: basic  realm=\&quot;Test  Authentication  System\&quot;&quot;);
      Header( &quot;HTTP/1.0  401  Unauthorized&quot;);
      echo  &quot;You  must  enter  a  valid  login  ID  and  password  to  access  this  resource\n&quot;;
      exit;
  }

  if(!isset($PHP_AUTH_USER)  ||  ($SeenBefore ==  1  &amp;&amp;  !strcmp($OldAuth,  $PHP_AUTH_USER))  )  {
    authenticate();
  }  
  else  {
    echo  &quot;Welcome:  $PHP_AUTH_USER&lt;BR&gt;&quot;;
    echo  &quot;Old:  $OldAuth&quot;;
    echo  &quot;&lt;FORM  ACTION=\&quot;$PHP_SELF\&quot;  METHOD=POST&gt;\n&quot;;
    echo  &quot;&lt;INPUT  TYPE=HIDDEN  NAME=\&quot;SeenBefore\&quot;  VALUE=\&quot;1\&quot;&gt;\n&quot;;
    echo  &quot;&lt;INPUT  TYPE=HIDDEN  NAME=\&quot;OldAuth\&quot;  VALUE=\&quot;$PHP_AUTH_USER\&quot;&gt;\n&quot;;
    echo  &quot;&lt;INPUT  TYPE=Submit  VALUE=\&quot;Re  Authenticate\&quot;&gt;\n&quot;;
    echo  &quot;&lt;/FORM&gt;\n&quot;;

}
?>
   </programlisting>
	</example>
	<simpara>
	ͅ   HTTP Basic authentication ͽϧ ΄ ; ΰ  ͽ ϰ . 
	Lynx 401 ξ  ΃ authentication ΄΀ clear . 
	 Back ΀̈́  Forward ξ   ͅ  .</simpara>
	<simpara>
	  Authentication ͽ Microsoft's IIS server 
	CGI version PHP΀ Ǩ ; IIS ΰ  .
	</simpara>
</chapter>
<!-- Keep this comment at the end of the file
Local variables:
mode: sgml
sgml-omittag:t
sgml-shorttag:t
sgml-minimize-attributes:nil
sgml-always-quote-attributes:t
sgml-indent-step:1
sgml-indent-data:t
sgml-parent-document:nil
sgml-default-dtd-file:"../manual.ced"
sgml-exposed-tags:nil
sgml-local-catalogs:nil
sgml-local-ecat-files:nil
End:
-->
