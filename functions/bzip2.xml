<reference id="ref.bzip2">
	<title>Bzip2 압축 함수</title>
	<titleabbrev>Bzip2</titleabbrev>
	<partintro>
		<para>
    본 모듈은 Julian Seward님의 <ulink url="&url.bzip2;">bzip2</ulink>라이브러리의 함수로서 bzip2 (.bz2) 압축 파일을 읽고 쓸 수 있도록 해준다.
   </para>
		<para>
    bzip2는 PHP에서 기본 설정만으로는 지원하지 않는다.
   PHP를 컴파일할 때 <parameter>--with-bz2[=DIR]</parameter>과 같은 설정을 사용해야만 bzip2를 사용할 수 있다.
   본 모듈은 bzip/libbzip2 &gt;= 1.0.x 의 버전이 필요하다.
   </para>
		<sect1 id="bzip2-예제">
			<title>간단한 예제</title>
			<para>
    본 예제는 임시 파일을 열어 문자열을 기록한후 파일의 내용을 출력하게 된다.</para>
			<example>
				<title>간단한 bzip2 예제</title>
				<programlisting role="php">
&lt;?php

$filename = "/tmp/testfile.bz2";
$str = "This is a test string.\n";

// open file for writing
$bz = bzopen($filename, "w");

// write string to file
bzwrite($bz, $str);

// close file
bzclose($bz);

// open file for reading
$bz = bzopen($filename, "r");

// read 10 characters
print bzread($bz, 10);

// output until end of the file (or the next 1024 char) and close it.  
print bzread($bz);

bzclose($bz);

?>
     </programlisting>
			</example>
		</sect1>
	</partintro>
	<refentry id="function.bzclose">
		<refnamediv>
			<refname>bzclose</refname>
			<refpurpose>bzip2 파일 포인터를 닫음</refpurpose>
		</refnamediv>
		<refsect1>
			<title>설명</title>
			<funcsynopsis>
				<funcprototype>
					<funcdef>int <function>bzclose</function>
					</funcdef>
					<paramdef>int <parameter>bz</parameter>
					</paramdef>
				</funcprototype>
			</funcsynopsis>
			<para>
				<parameter>bz</parameter>포인터에 의해 참조된 bzip2 파일을 닫는다.
    </para>
			<para>
     성공하면 &true;, 실패하면 &false;를 반환.
    </para>
			<para>
     파일 포인터는 <function>bzopen</function>에 의해 성공적으로 개방된 포인터라야하며, 유효한 값이어야 한다.
    </para>
			<para>
     참조: <function>bzopen</function>.
    </para>
		</refsect1>
	</refentry>
	<refentry id="function.bzcompress">
		<refnamediv>
			<refname>bzcompress</refname>
			<refpurpose>문자열을 bzip2 인코딩 데이터로 압축</refpurpose>
		</refnamediv>
		<refsect1>
			<title>설명</title>
			<funcsynopsis>
				<funcprototype>
					<funcdef>string <function>bzcompress</function>
					</funcdef>
					<paramdef>string <parameter>source</parameter>
					</paramdef>
					<paramdef>int
       <parameter>
							<optional>blocksize</optional>
						</parameter>
					</paramdef>
					<paramdef>int 
       <parameter>
							<optional>workfactor</optional>
						</parameter>
					</paramdef>
				</funcprototype>
			</funcsynopsis>
			<para>
				<function>bzcompress</function>는 <parameter>source</parameter> 문자열을 압축하여 이를 bzip2 인코딩 데이터로 반환한다.
               </para>
			<para>
				<parameter>blocksize</parameter> 선택인자는 압축하는 동안 사용되는 블럭 크기이고, 1에서 9까지의 숫자로 지정된다.
     9값이 압축률이 가장 좋으나 자원은 가장 많이 차지한다. <function>blocksize</function> 인자의 초기값은 4이다.
               </para>
			<para>
				<parameter>workfactor</parameter> 선택인자는 반복이 많은 데이터와 같은 최악의 상황일 경우 얼마나 압축할 것인가를 조절한다.
이 값은 0에서 250 사이의 수치값이다. 0은 특별한 상황에서 쓰이며, 초기값은 30이다.
<parameter>workfactor</parameter> 인자에 주의를 기울이지 않는다면, 동일한 출력물이 나오게 된다.
    </para>
			<para>
				<example>
					<title>
						<function>bzcompress</function> 예제</title>
					<programlisting role="php">
$str = "sample data";
$bzstr = bzcompress($str, 9);
      </programlisting>
				</example>
			</para>
			<para>
     참조: <function>bzdecompress</function>.
    </para>
		</refsect1>
	</refentry>
	<refentry id="function.bzdecompress">
		<refnamediv>
			<refname>bzdecompress</refname>
			<refpurpose>bzip2로 인코딩된 데이터 압축을 해제</refpurpose>
		</refnamediv>
		<refsect1>
			<title>설명</title>
			<funcsynopsis>
				<funcprototype>
					<funcdef>string <function>bzdecompress</function>
					</funcdef>
					<paramdef>string <parameter>source</parameter>
					</paramdef>
					<paramdef>int
       <parameter>
							<optional>small</optional>
						</parameter>
					</paramdef>
				</funcprototype>
			</funcsynopsis>
			<para>
				<function>bzdecompress</function> 함수는 <parameter>source</parameter> 인자로 지정된 bzip2 인코딩 데이터를 압축을 풀어 그 문자열을 반환한다.
				<parameter>small</parameter> 선택인자가 &true; 값이면 압축 해제 알고리즘은 최소한의 메모리를 사용할 것이다(참고로, 최대 메모리 요구량은 2300K 이하이다).
				그러나, 속도는 반으로 감소하게 된다. 더 많은 정보를 얻으려면 <ulink url="&url.bzip2;">bzip2 문서</ulink>를 참조하라.
               </para>
			<para>
				<example>
					<title>
						<function>bzdecompress</function>
					</title>
					<programlisting role="php">
$str = $bzdecompress($bzstr);
      </programlisting>
				</example>
			</para>
			<para>
     참조: <function>bzcompress</function>.
    </para>
		</refsect1>
	</refentry>
	<refentry id="function.bzerrno">
		<refnamediv>
			<refname>bzerrno</refname>
			<refpurpose>bzip2 에러 번호를 반환</refpurpose>
		</refnamediv>
		<refsect1>
			<title>설명</title>
			<funcsynopsis>
				<funcprototype>
					<funcdef>int <function>bzerrno</function>
					</funcdef>
					<paramdef>int <parameter>bz</parameter>
					</paramdef>
				</funcprototype>
			</funcsynopsis>
			<para>
				<parameter>bz</parameter> 파일 포인터로 반환된 bzip2 에러 코드를 반환한다.
               </para>
			<para>
     참조: <function>bzerror</function>, <function>bzerrstr</function>.
    </para>
		</refsect1>
	</refentry>
	<refentry id="function.bzerror">
		<refnamediv>
			<refname>bzerror</refname>
			<refpurpose>bzip2 에러 코드와 에러 문자열을 배열로 반환</refpurpose>
		</refnamediv>
		<refsect1>
			<title>설명</title>
			<funcsynopsis>
				<funcprototype>
					<funcdef>array <function>bzerror</function>
					</funcdef>
					<paramdef>int <parameter>bz</parameter>
					</paramdef>
				</funcprototype>
			</funcsynopsis>
			<para>
				<parameter>bz</parameter> 파일 포인터에 의해 반환된 bzip2의 에러를 에러 코드와 에러 문자열이 포함된 배열로 반환한다.
    </para>
			<para>
				<example>
					<title>
						<function>bzerror</function> 예제</title>
					<programlisting role="php">
$error = bzerror($bz);

echo $error["errno"];
echo $error["errstr"];
      </programlisting>
				</example>
			</para>
			<para>
     참조: <function>bzerrno</function>, <function>bzerrstr</function>.
    </para>
		</refsect1>
	</refentry>
	<refentry id="function.bzerrstr">
		<refnamediv>
			<refname>bzerrstr</refname>
			<refpurpose>bzip2 에러 문자열 반환</refpurpose>
		</refnamediv>
		<refsect1>
			<title>설명</title>
			<funcsynopsis>
				<funcprototype>
					<funcdef>string <function>bzerrstr</function>
					</funcdef>
					<paramdef>int <parameter>bz</parameter>
					</paramdef>
				</funcprototype>
			</funcsynopsis>
			<para>
				<parameter>bz</parameter> 인자로 지정된 파일 포인터에 의해 반환된 bzip2 에러 문자열을 반환한다.
    </para>
			<para>
     참조: <function>bzerrno</function>, <function>bzerror</function>.
    </para>
		</refsect1>
	</refentry>
	<refentry id="function.bzflush">
		<refnamediv>
			<refname>bzflush</refname>
			<refpurpose>모든 버퍼에 담긴 데이터를 강제로 기록</refpurpose>
		</refnamediv>
		<refsect1>
			<title>설명</title>
			<funcsynopsis>
				<funcprototype>
					<funcdef>int <function>bzflush</function>
					</funcdef>
					<paramdef>int <parameter>bz</parameter>
					</paramdef>
				</funcprototype>
			</funcsynopsis>
			<para>
				<parameter>bz</parameter> 인자로 지정된 파일 포인터에 버퍼에 저장된 bzip2 데이터를 강제로 기록한다.
    </para>
			<para>
     성공하면 &true;, 실패하면 &false;를 반환.
    </para>
			<para>
     참조: <function>bzread</function>, <function>bzwrite</function>.
    </para>
		</refsect1>
	</refentry>
	<refentry id="function.bzopen">
		<refnamediv>
			<refname>bzopen</refname>
			<refpurpose>bzip2 압축 파일을 개방</refpurpose>
		</refnamediv>
		<refsect1>
			<title>설명</title>
			<funcsynopsis>
				<funcprototype>
					<funcdef>int <function>bzopen</function>
					</funcdef>
					<paramdef>string <parameter>filename</parameter>
					</paramdef>
					<paramdef>string <parameter>mode</parameter>
					</paramdef>
				</funcprototype>
			</funcsynopsis>
			<para>
     bzip2 (.bz2) 파일을 읽거나 또는 쓰기위해 개방한다.
     <parameter>filename</parameter> 인자는 개방할 파일 이름을 지정한다.
     <parameter>mode</parameter> 인자는 <function>fopen</function> 함수와 비슷하게 사용된다(`r'은 읽기모드, `w'는 쓰기모드, 등등).
    </para>
			<para>
     파일을 개방하는 데 실패하면 &false;를 그렇지 않다면 개방된 파일의 새로운 포인터를 반환한다.
    </para>
			<para>
				<example>
					<title>
						<function>bzopen</function> 예제</title>
					<programlisting role="php">
$bz = bzopen("/tmp/foo.bz2", "r");
      </programlisting>
				</example>
			</para>
			<para>
     참조: <function>bzclose</function>.
    </para>
		</refsect1>
	</refentry>
	<refentry id="function.bzread">
		<refnamediv>
			<refname>bzread</refname>
			<refpurpose>bzip2 파일을 바이너리 형태로 판독</refpurpose>
		</refnamediv>
		<refsect1>
			<title>설명</title>
			<funcsynopsis>
				<funcprototype>
					<funcdef>string <function>bzread</function>
					</funcdef>
					<paramdef>int <parameter>bz</parameter>
					</paramdef>
					<paramdef>int 
       <parameter>
							<optional>length</optional>
						</parameter>
					</paramdef>
				</funcprototype>
			</funcsynopsis>
			<para>
				<function>bzread</function> 함수는 <parameter>bz</parameter>에 의해 참조된 bzip2 파일 포인터로부터 <parameter>length</parameter> 바이트만큼 읽는다.
				<parameter>length</parameter> 바이트(압축되지 않은 상태일 때의 바이트수)가 모두 읽혀지거나 EOF에 이르렀을 때 읽기를 중단할 것이다.
				<parameter>length</parameter> 선택인자가 정의되지 않았다면 <function>bzread</function> 함수는 1024(역시 압축안된 상태에서) 바이트를 읽을 것이다.
               </para>
			<para>
				<example>
					<title>
						<function>bzread</function> 예제</title>
					<programlisting role="php">
$bz = bzopen("/tmp/foo.bz2", "r");
$str = bzread($bz, 2048);
echo $str;
      </programlisting>
				</example>
			</para>
			<para>
     참조: <function>bzwrite</function>, <function>bzopen</function>.
    </para>
		</refsect1>
	</refentry>
	<refentry id="function.bzwrite">
		<refnamediv>
			<refname>bzwrite</refname>
			<refpurpose>bzip2 파일을 바이너리 형태로 기록</refpurpose>
		</refnamediv>
		<refsect1>
			<title>설명</title>
			<funcsynopsis>
				<funcprototype>
					<funcdef>int <function>bzwrite</function>
					</funcdef>
					<paramdef>int <parameter>bz</parameter>
					</paramdef>
					<paramdef>string <parameter>data</parameter>
					</paramdef>
					<paramdef>int
       <parameter>
							<optional>length</optional>
						</parameter>
					</paramdef>
				</funcprototype>
			</funcsynopsis>
			<para>
				<function>bzwrite</function> 함수는 <parameter>data</parameter> 인자로 지정된 문자열을 
				<parameter>bz</parameter>에 지정된 bzip2 파일 스트림 포인터로 기록한다.
			     만약 <parameter>length</parameter> 선택인자가 지정되면, length  바이트수만큼만 기록하거나 문자열 마지막 부분에 도달하면 기록을 중단할 것이다.
    </para>
			<para>
				<example>
					<title>
						<function>bzwrite</function> 예제</title>
					<programlisting role="php">
$str = "uncompressed data";
$bz = bzopen("/tmp/foo.bz2", "w");
bzwrite($bz, $str, strlen($str));
      </programlisting>
				</example>
			</para>
			<para>
     참조: <function>bzread</function>, <function>bzopen</function>.
    </para>
		</refsect1>
	</refentry>
</reference>
<!-- Keep this comment at the end of the file
Local variables:
mode: sgml
sgml-omittag:t
sgml-shorttag:t
sgml-minimize-attributes:nil
sgml-always-quote-attributes:t
sgml-indent-step:1
sgml-indent-data:t
sgml-parent-document:nil
sgml-default-dtd-file:"../../manual.ced"
sgml-exposed-tags:nil
sgml-local-catalogs:nil
sgml-local-ecat-files:nil
End:
-->
