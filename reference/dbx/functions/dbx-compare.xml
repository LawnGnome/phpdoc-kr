<?xml version="1.0" encoding="iso-8859-1"?>
<!-- splitted from ./kr/functions/dbx.xml, last change in rev 1.1 -->
<!-- last change to 'dbx-compare' in en/ tree in rev 1.3 -->
  <refentry id="function.dbx-compare">
   <refnamediv>
    <refname>dbx_compare</refname>
    <refpurpose>Compare two rows for sorting purposes</refpurpose>
   </refnamediv>
   <refsect1>
    <title>Description</title>
     <methodsynopsis>
      <type>int</type><methodname>dbx_compare</methodname>
      <methodparam><type>array</type><parameter>row_a</parameter></methodparam>
      <methodparam><type>array</type><parameter>row_b</parameter></methodparam>
      <methodparam><type>string</type><parameter>columnname_or_index</parameter></methodparam>
      <methodparam choice="opt"><type>int</type><parameter>flags</parameter></methodparam>
     </methodsynopsis>
   &warn.experimental.func;
    <para>
     Returns 0 if row_a[$columnname_or_index] is equal to
     row_b[$columnname_or_index], 1 if it is greater and -1 if it is
     smaller (or vice versa if the DBX_CMP_DESC flag is set).
    </para>
    <para>
     The <parameter>flags</parameter> can be set to specify comparison
     direction (whether sorting is ascending or descending) and 
     comparison type (force string or numeric compare by converting the
     data). The constants for direction are DBX_CMP_ASC and DBX_CMP_DESC. 
     The constants for comparison type are DBX_CMP_NATIVE (no 
     conversion), DBX_CMP_TEXT and DBX_CMP_NUMBER. These constants can
     be OR-ed together. The default value for the 
     <parameter>flags</parameter> parameter is DBX_CMP_ASC | 
     DBX_CMP_NATIVE.
    </para>
    <example>
     <title><function>dbx_compare</function> example</title>
     <programlisting role="php">
<![CDATA[
<?php
function user_re_order ($a, $b) {
    $rv = dbx_compare ($a, $b, "parentid", DBX_CMP_DESC);
    if (!$rv) { 
        $rv = dbx_compare ($a, $b, "id");
        return $rv;
    }
}

$link = dbx_connect ("odbc", "", "db", "username", "password")
    or die ("Could not connect");
$result = dbx_query ($link, "SELECT id, parentid, description FROM tbl ORDER BY id");
echo "resulting data is now ordered by id<br>";
dbx_sort ($result, "user_re_order");
echo "resulting data is now ordered by parentid (descending), then by id<br>";
dbx_close ($link);
?>
]]>
     </programlisting>
    </example>
    <para>
     See also <function>dbx_sort</function>.
    </para>
   </refsect1>
  </refentry>

<!-- Keep this comment at the end of the file
Local variables:
mode: sgml
sgml-omittag:t
sgml-shorttag:t
sgml-minimize-attributes:nil
sgml-always-quote-attributes:t
sgml-indent-step:1
sgml-indent-data:t
indent-tabs-mode:nil
sgml-parent-document:nil
sgml-default-dtd-file:"../../../../manual.ced"
sgml-exposed-tags:nil
sgml-local-catalogs:nil
sgml-local-ecat-files:nil
End:
vim600: syn=xml fen fdm=syntax fdl=2 si
vim: et tw=78 syn=sgml
vi: ts=1 sw=1
-->
