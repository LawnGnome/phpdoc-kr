<?xml version="1.0" encoding="utf-8"?>
<reference id="ref.pgsql">
	<title>PostgreSQL functions</title>
	<titleabbrev>PostgreSQL</titleabbrev>
	<partintro>
		<para>
	Postgres는 본래 버클리대학의 컴퓨터 사이언스 학부에서 학술적인 목적으로 
	개발되었던 데이터베이스로, 현재 몇몇 상용 데이터베이스들이 채용하고 있는 
	객체관계 개념을 실험적으로 적용시켜왔다. Postgres는 SQL92/SQL3언어, 
	트랜잭션간의 무결성 및 기타 확장가능한 형식을 지원한다. PostgreSQL은 
	이같은 버클리대학의 코드를 근간으로 개발되고 있는 오픈소스의 성과물이다. 
   </para>
		<para>
	PostgreSQL의 배포는 무료이며 최신버전은 
	<ulink url="&url.pgsql;">www.PostgreSQL.org</ulink> 에서 구할 수 있다. 
    </para>
		<para>
	PostgreSQL은 버전 6.3(1998년 3월 2일 발표)부터 유닉스 도메인 소켓
	(unix domain sockets)을 사용한다. 아래의 테이블은 유닉스 도메인 소켓을 
	사용한 새로운 데이타베이스 접속예를 나타내고 있다. 소켓의 경로는 
	<filename>/tmp/.s.PGSQL.5432</filename> 이다. 이 옵션은 
	<command>postmaster</command> 에 -i 플래그를 넣어줌으로써 가능하며 
	그 의미는 "유닉스 도메인 소켓의 요청과 함께 TCP/IP 소켓의 요청도 동시에 
	기다린다"는 뜻이다. 
    <table>
				<title>Postmaster and PHP</title>
				<tgroup cols="3">
					<thead>
						<row>
							<entry>Postmaster</entry>
							<entry>PHP</entry>
							<entry>Status</entry>
						</row>
					</thead>
					<tbody>
						<row>
							<entry>postmaster &amp;</entry>
							<entry>pg_connect("dbname=MyDbName");</entry>
							<entry>OK</entry>
						</row>
						<row>
							<entry>postmaster -i &amp;</entry>
							<entry>pg_connect("dbname=MyDbName");</entry>
							<entry>OK</entry>
						</row>
						<row>
							<entry>postmaster &amp;</entry>
							<entry>pg_connect("host=localhost dbname=MyDbName");</entry>
							<entry>
	 Unable to connect to PostgreSQL server: connectDB() failed:
	 Is the postmaster running and accepting TCP/IP (with -i)
	 connection at 'localhost' on port '5432'? in
	 /path/to/file.php3 on line 20.
	</entry>
						</row>
						<row>
							<entry>postmaster -i &amp;</entry>
							<entry>pg_connect("host=localhost dbname=MyDbName");</entry>
							<entry>OK</entry>
						</row>
					</tbody>
				</tgroup>
			</table>
		</para>
		<para>
	PHP로 PostgreSQL에 접속하는 코드의 예제는 다음과 같다: 
	<command>$conn = pg_Connect("host=myHost port=myPort tty=myTTY options=myOptions user=myUser password=myPassword dbname=myDB");</command>
		</para>
		<para>
	예전에 사용하던 <command>$conn = pg_connect ("host", "port", "options", "tty", "dbname")</command> 은 추천하지 않는다. 
       </para>
		<para>
	PHP에서 PostgreSQL의 Large Object 기능을 사용하려면 그것을 트랜잭션 블럭안에 포함시켜야 한다. 
	트랜잭션 블럭은 <command>begin</command> 으로 시작해서 <command>commit</command> 
	혹은 <command>end</command>로 끝난다. 만약 트랜잭션이 실패하였다면 그 실패한 트랜잭션은 
	반드시 <command>rollback</command> 혹은 <command>abort</command> 로 끝나야 한다. 
        <example>
				<title>Using Large Objects</title>
				<programlisting role="php">
&lt;?php
    $database = pg_Connect ("dbname=jacarta");
    pg_exec ($database, "begin");
    $oid = pg_locreate ($database);
    echo ("$oid\n");
    $handle = pg_loopen ($database, $oid, "w");
    echo ("$handle\n");
    pg_lowrite ($handle, "gaga");
    pg_loclose ($handle);
    pg_exec ($database, "commit");
?>
     </programlisting>
			</example>
		</para>
	</partintro>
&reference.pgsql.functions;

</reference>
<!-- Keep this comment at the end of the file
Local variables:
mode: sgml
sgml-omittag:t
sgml-shorttag:t
sgml-minimize-attributes:nil
sgml-always-quote-attributes:t
sgml-indent-step:1
sgml-indent-data:t
indent-tabs-mode:nil
sgml-parent-document:nil
sgml-default-dtd-file:"../../../manual.ced"
sgml-exposed-tags:nil
sgml-local-catalogs:nil
sgml-local-ecat-files:nil
End:
-->

